(function(e){function t(t){for(var a,s,o=t[0],d=t[1],u=t[2],l=0,h=[];l<o.length;l++)s=o[l],n[s]&&h.push(n[s][0]),n[s]=0;for(a in d)Object.prototype.hasOwnProperty.call(d,a)&&(e[a]=d[a]);c&&c(t);while(h.length)h.shift()();return r.push.apply(r,u||[]),i()}function i(){for(var e,t=0;t<r.length;t++){for(var i=r[t],a=!0,o=1;o<i.length;o++){var d=i[o];0!==n[d]&&(a=!1)}a&&(r.splice(t--,1),e=s(s.s=i[0]))}return e}var a={},n={app:0},r=[];function s(t){if(a[t])return a[t].exports;var i=a[t]={i:t,l:!1,exports:{}};return e[t].call(i.exports,i,i.exports,s),i.l=!0,i.exports}s.m=e,s.c=a,s.d=function(e,t,i){s.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:i})},s.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},s.t=function(e,t){if(1&t&&(e=s(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var i=Object.create(null);if(s.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var a in e)s.d(i,a,function(t){return e[t]}.bind(null,a));return i},s.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return s.d(t,"a",t),t},s.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},s.p="";var o=window["webpackJsonp"]=window["webpackJsonp"]||[],d=o.push.bind(o);o.push=t,o=o.slice();for(var u=0;u<o.length;u++)t(o[u]);var c=d;r.push([0,"chunk-vendors"]),i()})({0:function(e,t,i){e.exports=i("56d7")},2342:function(e,t,i){"use strict";var a=i("83b9"),n=i.n(a);n.a},"3e70":function(e,t,i){},"56d7":function(e,t,i){"use strict";i.r(t);i("cadf"),i("551c"),i("097d");var a=i("2b0e"),n=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{attrs:{id:"app"}},[i("Game")],1)},r=[],s=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"game"},[i("div",{staticClass:"title"},[e._v("Êâ´Èõ∑")]),i("Setting",{directives:[{name:"show",rawName:"v-show",value:!e.isStart,expression:"!isStart"}],on:{handleStart:e.handleStart}}),i("Plate",{directives:[{name:"show",rawName:"v-show",value:e.isStart,expression:"isStart"}],attrs:{data:e.data},model:{value:e.isStart,callback:function(t){e.isStart=t},expression:"isStart"}})],1)},o=[],d=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"setting"},[i("div",{staticClass:"grade"},[i("button",{class:0===e.grade?"active":"",on:{click:function(t){e.handleGrade(0)}}},[e._v("ÂàùÁ∫ß")]),i("button",{class:1===e.grade?"active":"",on:{click:function(t){e.handleGrade(1)}}},[e._v("‰∏≠Á∫ß")]),i("button",{class:2===e.grade?"active":"",on:{click:function(t){e.handleGrade(2)}}},[e._v("È´òÁ∫ß")]),i("button",{class:3===e.grade?"active":"",on:{click:function(t){e.handleGrade(3)}}},[e._v("Ëá™ÂÆö‰πâ")])]),i("div",{staticClass:"grid-num"},[i("div",[e._v("Èõ∑Âå∫Â§ßÂ∞èÔºö")]),i("input",{directives:[{name:"model",rawName:"v-model",value:e.gridCol,expression:"gridCol"}],attrs:{type:"number",disabled:3!==e.grade},domProps:{value:e.gridCol},on:{blur:e.handleGridCol,input:function(t){t.target.composing||(e.gridCol=t.target.value)}}}),i("div",{staticClass:"x"},[e._v("x")]),i("input",{directives:[{name:"model",rawName:"v-model",value:e.gridRow,expression:"gridRow"}],attrs:{type:"number",disabled:3!==e.grade},domProps:{value:e.gridRow},on:{blur:e.handleGridRow,input:function(t){t.target.composing||(e.gridRow=t.target.value)}}})]),i("div",{staticClass:"sweeper-num"},[i("div",[e._v("Âú∞Èõ∑Êï∞ÈáèÔºö")]),i("input",{directives:[{name:"model",rawName:"v-model",value:e.sweeper,expression:"sweeper"}],attrs:{type:"number",disabled:3!==e.grade},domProps:{value:e.sweeper},on:{blur:e.handleSweeper,input:function(t){t.target.composing||(e.sweeper=t.target.value)}}})]),i("button",{staticClass:"start",on:{click:e.handleStart}},[e._v("ÂºÄÂßã")])])},u=[],c={name:"setting",data:function(){return{grade:0,gridRow:9,gridCol:9,sweeper:10,maxSweeper:80}},watch:{gridRow:function(e){e>1&&(this.maxSweeper=this.gridRow*this.gridCol-1,this.handleSweeper())},gridCol:function(e){e>1&&(this.maxSweeper=this.gridRow*this.gridCol-1,this.handleSweeper())}},methods:{handleGrade:function(e){switch(this.grade=e,e){case 0:this.gridRow=9,this.gridCol=9,this.sweeper=10;break;case 1:this.gridRow=16,this.gridCol=16,this.sweeper=40;break;case 2:this.gridRow=16,this.gridCol=30,this.sweeper=99;break}},handleGridRow:function(){1*this.gridRow<2&&(this.gridRow=2)},handleGridCol:function(){1*this.gridCol<2&&(this.gridCol=2)},handleSweeper:function(){var e=Math.ceil(this.maxSweeper/10);1*this.sweeper<e?this.sweeper=e:1*this.sweeper>this.maxSweeper&&(this.sweeper=this.maxSweeper)},handleStart:function(){this.$emit("handleStart",{gridRow:1*this.gridRow,gridCol:1*this.gridCol,sweeper:1*this.sweeper})}}},l=c,h=(i("fac4"),i("2877")),p=Object(h["a"])(l,d,u,!1,null,null,null);p.options.__file="Setting.vue";var f=p.exports,m=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"plate"},[i("div",{staticClass:"info"},[i("div",{staticClass:"time"},[e._v("Êó∂Èó¥Ôºö"+e._s(e.timeText))]),i("div",{staticClass:"sweeper"},[e._v("Èõ∑Ôºö"+e._s(e.sweeperNum))]),i("button",{staticClass:"quit",on:{click:e.handleQuit}},[e._v("ÈÄÄÂá∫")]),i("button",{staticClass:"quit",on:{click:e.handleAgain}},[e._v("ÈáçÊù•")])]),i("div",{staticClass:"container"},e._l(e.data.gridRow,function(t){return i("div",{key:t,staticClass:"row"},e._l(e.data.gridCol,function(a){return i("Grid",{key:t+"-"+a,attrs:{data:e.gridData[t+"-"+a]},on:{handleMark:e.handleMark,handleProbe:e.handleProbe,handleActive:e.handleActive,handleMouseup:e.handleMouseup}})}))}))])},v=[],g=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"grid"},[e.data.isProbe&&e.data.isReal?i("samp",{class:e.data.isTread?"probe tread":"probe"},[e._v("üí£")]):e._e(),e.data.isProbe&&!e.data.isReal&&e.data.num?i("samp",{staticClass:"probe",on:{mousedown:e.handleMousedown,mouseup:e.handleMouseup,mouseleave:e.handleMouseleave}},[e._v(e._s(e.data.num))]):e._e(),!e.data.isProbe||e.data.isReal||e.data.num?e._e():i("samp",{staticClass:"probe"}),!e.data.isProbe&&e.data.isMark?i("samp",{staticClass:"no-probe mark",on:{mouseup:e.handleMark}},[e._v("üö©")]):e._e(),e.data.isProbe||e.data.isMark?e._e():i("samp",{class:e.data.isActive?"no-probe active":"no-probe",on:{mouseup:e.handleMark,click:e.handleProbe}})])},w=[],b={name:"grid",props:{data:{type:Object,default:function(){return{index:"",row:1,col:1,isProbe:!1,isReal:!1,isMark:!1,isTread:!1,num:0,isActive:!1}}}},data:function(){return{isHoleDownLeft:!1,isHoleDownRight:!1,isHoleDownLeftAndRight:!1,timeout:function(){}}},methods:{handleMark:function(e){e&&3===e.which&&(this.data.isMark=!this.data.isMark,this.$emit("handleMark",this.data))},handleProbe:function(){this.$emit("handleProbe",this.data)},handleMousedown:function(e){clearTimeout(this.timeout),e&&1===e.which?this.isHoleDownLeft=!0:e&&3===e.which&&(this.isHoleDownRight=!0),this.isHoleDownLeft&&this.isHoleDownRight&&(this.isHoleDownLeftAndRight=!0,this.$emit("handleActive",this.data,!0))},handleMouseup:function(e){var t=this;clearTimeout(this.timeout),this.$emit("handleActive",this.data,!1),e&&1===e.which?this.isHoleDownLeft=!1:e&&3===e.which&&(this.isHoleDownRight=!1),this.isHoleDownLeftAndRight&&(this.timeout=setTimeout(function(){t.isHoleDownLeftAndRight=!1},500)),!this.isHoleDownLeftAndRight||this.isHoleDownLeft||this.isHoleDownRight||(clearTimeout(this.timeout),this.isHoleDownLeftAndRight=!1,this.$emit("handleMouseup",this.data))},handleMouseleave:function(){this.isHoleDownLeftAndRight&&(this.isHoleDownLeftAndRight=!1,this.$emit("handleActive",this.data,!1))}}},_=b,R=(i("2342"),Object(h["a"])(_,g,w,!1,null,null,null));R.options.__file="Grid.vue";var k=R.exports,x={name:"plate",props:{value:{type:Boolean,default:function(){return!1}},data:{type:Object,default:function(){return{gridRow:9,gridCol:9,sweeper:10}}}},components:{Grid:k},data:function(){return{second:0,timeText:"00:00",timeout:function(){},gridData:{},sweeperNum:0,treadNum:0,markNum:0}},watch:{value:function(e){e&&this.init()}},methods:{init:function(){this.sweeperNum=this.data.sweeper,this.treadNum=0,this.markNum=0,this.handleGridData(),this.probe.queue={items:{},indexs:[]},this.probe.processing=!1,this.probe.treadNum=0,this.second=0,this.timeText="00:00",this.handleTimeing()},handleQuit:function(){clearTimeout(this.timeout),this.$emit("input",!1)},handleAgain:function(){clearTimeout(this.timeout),this.init()},handleGridData:function(){for(var e=this,t={},i=1;i<=this.data.gridRow;i++)for(var a=function(a){var n="".concat(i,"-").concat(a),r={index:n,row:i,col:a,surrounding:[],isProbe:!1,isReal:!1,isMark:!1,isTread:!1,num:0,isActive:!1};e.handleSurrounding(r,function(e){r.surrounding.push(e)}),t[n]=r},n=1;n<=this.data.gridCol;n++)a(n);for(var r=0;r<this.data.sweeper;){var s=this.handleRandom(this.data.gridRow),o=this.handleRandom(this.data.gridCol),d="".concat(s,"-").concat(o),u=t[d];if(!u.isReal){for(var c in u.isReal=!0,u.surrounding)t[u.surrounding[c]].num++;r++}}this.gridData=t},handleSurrounding:function(e,t){var i=e.row,a=e.col,n=i-1,r=!!(n>0),s=a+1,o=!!(s<=this.data.gridCol),d=i+1,u=!!(d<=this.data.gridRow),c=a-1,l=!!(c>0);r&&t("".concat(n,"-").concat(a)),r&&o&&t("".concat(n,"-").concat(s)),o&&t("".concat(i,"-").concat(s)),o&&u&&t("".concat(d,"-").concat(s)),u&&t("".concat(d,"-").concat(a)),l&&u&&t("".concat(d,"-").concat(c)),l&&t("".concat(i,"-").concat(c)),l&&r&&t("".concat(n,"-").concat(c))},handleRandom:function(e){return Math.ceil(Math.random()*e)},handleTimeing:function(){var e=this,t=function t(){e.timeout=setTimeout(function(){++e.second;var i=Math.floor(e.second/60),a=e.second%60;i<10&&(i="0".concat(i)),a<10&&(a="0".concat(a)),e.timeText="".concat(i,":").concat(a),t()},1e3)};t()},gameOver:function(){for(var e in clearTimeout(this.timeout),this.gridData){var t=this.gridData[e];t.isProbe=!0,t.isMark&&(t.isMark=!1,this.handleMark(t))}},settlement:function(){this.treadNum+this.markNum+this.sweeperNum===this.data.gridRow*this.data.gridCol&&this.gameOver()},probe:function(){if(!this.probe.processing){if(this.probe.processing=!0,this.probe.queue.indexs.length<=0)return this.treadNum+=this.probe.treadNum,this.probe.treadNum=0,this.settlement(),void(this.probe.processing=!1);var e=this.probe.queue.indexs.shift(),t=this.probe.queue.items[e];if(!t.isProbe)for(var i in t.isProbe=!0,t.isMark&&(t.isMark=!1,this.handleMark(t)),this.probe.treadNum++,t.surrounding){var a=this.gridData[t.surrounding[i]],n=a.surrounding.indexOf(t.index);n>-1&&a.surrounding.splice(n,1),a.isProbe||0!==t.num||this.AddProbeQueue(a)}delete this.probe.queue.items[e],this.probe.processing=!1,this.probe()}},AddProbeQueue:function(e){e.isReal&&(e.isTread=!0,this.gameOver()),e.isProbe||-1!==this.probe.queue.indexs.indexOf(e.index)||(this.probe.queue.items[e.index]=e,this.probe.queue.indexs.push(e.index),!this.probe.processing&&this.probe())},handleProbe:function(e){var t=this.gridData[e.index];t=e,this.AddProbeQueue(t)},handleMark:function(e){this.gridData[e.index]=e,e.isMark?(this.sweeperNum--,this.markNum++):(this.sweeperNum++,this.markNum--)},handleActive:function(e,t){for(var i in e.surrounding){var a=this.gridData[e.surrounding[i]];a.isProbe||(a.isActive=t)}},handleMouseup:function(e){var t=0;for(var i in e.surrounding){var a=this.gridData[e.surrounding[i]];!a.isProbe&&a.isMark&&t++}if(t===e.num)for(var n in e.surrounding){var r=this.gridData[e.surrounding[n]];r.isProbe||r.isMark||this.AddProbeQueue(r)}}}},C=x,M=(i("c169"),Object(h["a"])(C,m,v,!1,null,null,null));M.options.__file="Plate.vue";var P=M.exports,S={name:"game",data:function(){return{isStart:!1,data:{}}},components:{Setting:f,Plate:P},methods:{handleStart:function(e){this.data=e,this.isStart=!0}}},D=S,A=(i("bb9a"),Object(h["a"])(D,s,o,!1,null,null,null));A.options.__file="Game.vue";var N=A.exports,y={name:"app",components:{Game:N}},O=y,T=(i("5c0b"),Object(h["a"])(O,n,r,!1,null,null,null));T.options.__file="App.vue";var H=T.exports;a["a"].config.productionTip=!1,new a["a"]({render:function(e){return e(H)}}).$mount("#app")},"5c0b":function(e,t,i){"use strict";var a=i("5e27"),n=i.n(a);n.a},"5e27":function(e,t,i){},"83b9":function(e,t,i){},"936a":function(e,t,i){},bb9a:function(e,t,i){"use strict";var a=i("be05"),n=i.n(a);n.a},be05:function(e,t,i){},c169:function(e,t,i){"use strict";var a=i("936a"),n=i.n(a);n.a},fac4:function(e,t,i){"use strict";var a=i("3e70"),n=i.n(a);n.a}});